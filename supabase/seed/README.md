# Seed Data

This directory contains comprehensive test data for the Nonna App database.

## Quick Start

### Using Supabase CLI (Recommended)

```bash
# Ensure Supabase is running locally
supabase start

# Load seed data
supabase db seed
```

### Using psql

```bash
# Connect to your database
psql "your-connection-string" -f seed_data.sql
```

## Data Contents

- **140 User Profiles** (20 owners + 120 followers)
- **10 Baby Profiles** (10 different families)
- **150 Baby Memberships** (20 owner + 130 follower relationships)
- **140 User Stats** (gamification data)
- **Tile System Configuration** (UI layouts)

### Distribution per Baby:
- 2 Owners (Mother, Father)
- ~13 Follower relationships (some followers follow multiple babies)

## Full Documentation

See **[docs/SEED_DATA_GUIDE.md](../../docs/SEED_DATA_GUIDE.md)** for:
- Detailed instructions (3 methods)
- Manual auth.users setup
- Validation queries
- Troubleshooting
- Data structure documentation

## Data Structure

```
10 Babies (Johnson, Davis, Smith, Brown, Wilson, Martinez, Garcia, Lee, Anderson, Taylor)
├── Baby 1 (Johnson)
│   ├── 2 Owners: Sarah, Michael
│   └── ~13 Followers: Grandma Emma, Aunt Olivia, Uncle Liam, etc.
├── Baby 2 (Davis)
│   ├── 2 Owners: Emily, John
│   └── ~13 Followers: ...
└── ... (8 more babies)

Note: Some owners also follow other baby profiles (cross-profile relationships)
```

## Verification

After loading, verify with:

```sql
SELECT 
  (SELECT COUNT(*) FROM public.profiles) as profiles,
  (SELECT COUNT(*) FROM public.baby_profiles) as babies,
  (SELECT COUNT(*) FROM public.baby_memberships WHERE role='owner') as owners,
  (SELECT COUNT(*) FROM public.baby_memberships WHERE role='follower') as followers;
```

Expected result:
```
profiles | babies | owners | followers
---------|--------|--------|----------
   140   |   10   |   20   |   130
```

## Notes

- Uses mock UUIDs for testing
- Production apps should use Supabase Auth API for auth.users
- All data respects foreign key relationships
- Designed for development and testing only
- Idempotent (safe to run multiple times)

## Generated By

This seed data was generated using `/tmp/generate_seed_data.py` to ensure consistency and correct relationships.
